<?xml version="1.0" encoding="UTF-8"?>
<!--
  List of supported endpoints for HF API v2
  
  Permissions-
    
    basic: Basic Info - Allowed to access public user data such as uid, username, avatar, etc for the current profile.
    advanced: Advanced Info - Allowed to access fields such as unreadpms, invisible, totalpms, and lastactive for the current profile.
    posts: Posts - Allowed to access forums, threads, and posts.
    users: Users - Allowed to access other public HF user profiles.
    bytes: Bytes - Allowed to access Byte logs. Write access allows the transfer of Bytes.
    contracts: Contracts - Access to contracts, disputes, and b-ratings.
-->
<endpoints>
  <!-- Basic Profile and Site Information -->
  <request class="Profile" ask="Me">
    <method name="Read" apiType="Read" scope="BASIC" desc="Reads the basic profile information from the current token session." />
    <properties>
      <property name="uid" type="int" var="UserId" desc="The user's id." />
      <property name="username" type="string" var="Username" desc="The username." />
      <property name="postnum" type="int" var="PostCount" desc="The number of posts made." />
      <property name="avatar" type="string" var="AvatarUrl" desc="The url or path to the user's avatar." />
      <property name="avatardimensions" type="Size" var="AvatarDimensions" converter="AvatarSizeConverter" desc="The avatar dimensions." />
      <property name="avatartype" type="string" var="AvatarType" desc="The avatar type." />
      <property name="usergroup" type="int" var="UserGroupId" desc="The primary user group id." />
      <property name="displaygroup" type="int" var="DisplayGroupId" desc="The display group id." />
      <property name="additionalgroups" type="int[]" var="AdditionalGroupIds" converter="StringIntArrayConverter" desc="Comma-delimited list of secondary usergroups." />
      <property name="awards" type="int" var="Awards" desc="The number of awards received." />
      <property name="threadnum" type="int" var="ThreadCount" desc="The number of threads created." />
      <property name="lastvisit" type="DateTime" var="LastVisit" converter="UnixDateTimeConverter" desc="The unix time stamp of the last visit." />
      <property name="usertitle" type="string" var="UserTitle" desc="The user title." />
      <property name="website" type="string" var="Website" desc="The user website." />
      <property name="timeonline" type="TimeSpan" var="TimeOnline" converter="TimeSpanConverter" desc="The accumulated time, in seconds, that the user has ever been online for." />
      <property name="reputation" type="int" var="ReputationCount" desc="The total number of reputation points." />
      <property name="referrals" type="int" var="ReferralsCount" desc="The total number of users referred." />
      <property name="bytes" type="decimal" var="BytesCount" desc="The total number of bytes currently held." />
      <property name="vault" type="decimal" var="VaultCount" desc="The total number of bytes in the user's vault." />
    </properties>
  </request>
  
  <!-- Advanced Profile -->
  <request class="AdvancedProfile" inherits="Profile">
    <method name="Read" apiType="Read" hidebase="true" scope="ADV" desc="Reads the advanced profile information from the current token session." />
    <properties>
      <property name="lastactive" type="DateTime" var="LastActive" converter="UnixDateTimeConverter" desc="The unix time stamp of the last time the user was active." />
      <property name="unreadpms" type="int" var="UnreadPMCount" desc="The total count of unread pms." />
      <property name="invisible" type="bool" var="IsInvisible" converter="BooleanConverter" desc="True if the user has turned on invisible status." />
      <property name="totalpms" type="int" var="TotalPMCount" desc="The total number of PMs this user has made." />
      <property name="warningpoints" type="decimal" var="WarningPointsCount" desc="The total number of warning points on this user." />
    </properties>
  </request>
  
  <!-- Forums -->
  <request class="Forum" ask="Forums">
    <method name="Get" apiType="Read" scope="POSTS" desc="Gets the forum from the specified forum id.">
      <param name="_fid" type="int" var="forumId" desc="The forum id." />
    </method>
    <properties>
      <property name="fid" type="int" var="Id" desc="The forum id." />
      <property name="name" type="string" var="Name" desc="The name of the forum." />
      <property name="description" type="string" var="Description" desc="The description of the forum." />
      <property name="type" type="ForumType" var="Type" converter="ForumTypeConverter" desc="The forum type (category or forum)." />
    </properties>
  </request>

  <!-- Threads -->
  <request class="Thread" ask="Threads">
    <method name="Get" apiType="Read" scope="POSTS" desc="Gets the thread from the specified thread id.">
      <param name="_tid" type="int" var="threadId" desc="The thread id." />
    </method>
    <method name="SearchByUserId" apiType="Read" multi="true" scope="POSTS" desc="Searches all the threads made by the specified user.">
      <param name="_uid" type="int" var="userId" desc="The user id." />
      <param name="_page" type="int" var="page" desc="The page number." />
      <param name="_perpage" type="int" var="perPage" desc="The number of results per page." />
    </method>
    <method name="Create" apiType="Write" scope="POSTSWRITE" desc="Creates a new thread in the specified forum with the current token user as the author.">
      <param name="_fid" type="int" var="forumId" desc="The forum id." />
      <param name="_subject" type="string" var="subject" desc="The subject of the thread." />
      <param name="_message" type="string" var="message" desc="The message to post." />
    </method>
    <properties>
      <property name="tid" type="int" var="Id" desc="The thread id." />
      <property name="fid" type="int" var="ForumId" desc="The forum id." />
      <property name="subject" type="string" var="Subject" desc="The thread subject." />
      <property name="prefix" type="int" var="PrefixId" desc="The thread prefix id." />
      <property name="icon" type="int" var="IconId" desc="The icon id." />
      <property name="poll" type="int" var="PollId" desc="The poll id." />
      <property name="uid" type="int" var="UserId" desc="The user id of the author." />
      <property name="username" type="string" var="Username" desc="The username of the thread author." />
      <property name="dateline" type="DateTime" var="CreationTime" converter="UnixDateTimeConverter" desc="The time that the thread was created."/>
      <property name="firstpost" type="long" var="FirstPostId" desc="The id of the first post."/>
      <property name="lastpost" type="DateTime" var="LastPostTime" converter="UnixDateTimeConverter" desc="The time of the last post." />
      <property name="lastposter" type="string" var="LastPostUsername" desc="The name of the user that made the last post." />
      <property name="lastposteruid" type="int" var="LastPostUid" desc="The id of the last poster." />
      <property name="views" type="int" var="ViewCount" desc="The total number of views."/>
      <property name="numreplies" type="int" var="ReplyCount" desc="The total number of replies."/>
      <property name="closed" type="bool" var="IsClosed" converter="BooleanConverter" desc="Whether the thread is closed or not." />
      <property name="sticky" type="bool" var="IsSticky" converter="BooleanConverter" desc="Whether the thread is sticky or not." />
      <property name="bestpid" type="int" var="BestPostId" desc="The id of the highest rated post."/>
    </properties>
  </request>
  
</endpoints>
